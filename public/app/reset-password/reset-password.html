<div class="container body-content">
    <div class="page-header">
        <h1>Air Bears Password Reset</h1>
    </div>

    <div class="row" ng-hide="vm.resetSucceeded">
        <p class="col-sm-12">
            Complete the form below to reset your password. You will be able to access your account immediately after your password is reset.
        </p>
    </div>

    <div class="row" ng-hide="vm.resetSucceeded">
        <div class="col-sm-7">
            <form name="resetForm" role="form" novalidate ng-submit="vm.submit(resetForm.$valid)">
                <div class="row">
                    <div class="col-sm-7">
                        <div class="form-group" ab-client-validate>
                            <label for="email">Email <small class="glyphicon glyphicon-question-sign" uib-tooltip="The same email you use to log in."></small></label>
                            <input id="email" name="email" type="email" class="form-control" required ng-model="vm.reset.email" />
                            <div class="help-block validation" ng-show="resetForm.email.$error.required">Email is required.</div>
                            <div class="help-block validation" ng-show="resetForm.email.$error.email">Email must be valid.</div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-5">
                        <div class="form-group" ab-client-validate>
                            <label for="password">
                                Password
                                <small class="glyphicon glyphicon-question-sign"
                                       uib-tooltip-template="'app/common/password-requirements-template.html'"></small>
                            </label>
                            <input id="password" name="password" type="password" class="form-control" required ng-model="vm.reset.newPassword" />
                            <div class="help-block validation" ng-show="resetForm.password.$error.required">Password is required.</div>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-group" ab-client-validate>
                            <label for="confirmedPassword">Password Confirmed</label>
                            <input id="confirmedPassword" name="confirmedPassword" type="password" class="form-control" required ab-compare-to="vm.reset.newPassword" ng-model="vm.reset.confirmPassword" />
                            <div class="help-block validation" ng-show="resetForm.confirmedPassword.$error.required">Confirmed Password is required.</div>
                            <div class="help-block validation" ng-show="resetForm.confirmedPassword.$error.compareTo">Passwords don't match.</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <input type="submit" class="form-control btn btn-success" value="Reset Password" ng-disabled="vm.isSubmitting" />
                </div>
            </form>
        </div>
    </div>

    <div class="row" ng-show="vm.resetSucceeded">
        <div class="col-sm-7">
            <h3>Your password has been reset!</h3>
            <p><a href ng-click="vm.openLogin()">Click here</a> to log in to the Air Bears application.</p>
            <p>
                <button class="btn btn-info" ng-click="vm.openLogin()">Log In</button>
            </p>           
        </div>
    </div>
</div>